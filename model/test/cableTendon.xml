<mujoco model="Rope">
    <include file="scene.xml"/>

  <option timestep="0.001" jacobian="dense"/>
  <size nconmax="500" njmax="1500" nkey="1"/>
  <default>
    <geom solref="1e-2 5" solimp=".5 .99 1e-3" friction=".5"/>
  </default>

  <worldbody>
    <light pos=".5 0 2"/>

    <body name="payload" pos="0 0 0.1">
        <geom type="box" size=".05 .05 .05" rgba=".5 .2 .8 1" mass="10"/>
        <freejoint/>
         <geom type="cylinder" size=".05 .05" density="100"  rgba=".5 .2 .2 .5"/>
        <!-- <site name="payload_site" pos="0 0 0.05" size="0.01" rgba="1 0 0 1"/> -->
    </body>

    <body name="beam" pos="0 0 1.35" quat="0 1 0 1">
        <body name="slider" pos="0 0 0">
            <geom name="crane" type="cylinder" size=".08 .2 .08" rgba="0 1 0 1" mass="10"/>
            <site name="cylinder_site" pos="-0.082 0 0" size="0.01" rgba="1 0 0 1"/>
            <joint name="pin" type="hinge" axis="0 0 1" pos="0 0 0" damping="1"/>
        </body>
    </body>

    <body name="B0" pos="0 0 0.2" euler="0 0 0">
        <!-- <site name="cable_start" pos="0 0 0" size="0.01" rgba="1 0 0 1"/> -->
        <composite type="cable" count="50 1 1" curve="0 0 s" offset="0 0 0" prefix="C">
            <joint kind="main" damping="0.0001" armature="0.00001"/>
            <geom type="capsule" size=".005 .01" rgba=".8 .2 .1 1"/>
        </composite>
        <site name="cable_end" pos="0 0 1" size="0.01" rgba="1 0 0 1"/>
    </body>

  </worldbody>

    <tendon>
        <spatial name="tendon_payload" limited="true" springlength="0.5" range="0 0.5" solimplimit="0.001 0.001 0.001 0.5 1" solreflimit="-100 -0" damping="50">
            <!-- <site site="payload_site"/>
            <site site="cable_start"/> -->

            <site site="cable_end"/>
            <site site="cylinder_site"/>
        </spatial>

    </tendon>

    <equality>
        <connect body1="cable_end" body2="CB_last" anchor="-.05 0 0" solref="-10000 -1000"/>
    </equality>

  <actuator>
    <motor name="motor" joint="pin" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
  </actuator>

</mujoco>  

